---
layout: post
title:  "Network core"
date:   2020-08-07 00:00:03
categories: NETWORK
tags: NETWORK
---
* content
{:toc}

## Network core

- Mesh of interconnected routers
- 핵 공격에도 살아남도록 설계
- 외부의 장애에도 살아남도록 라우터들이 서로 그물형태로 연결됨
- 하나의 노드가 파괴되었더라도 나머지 노드들이 서로 통신이 가능

### Function(기능)   
- source to dest.(source와 dest는  결국 엔드호스트)
- (core router)중간의 라우터들이 데이터를 전달해줌. forwarding.
- 패킷에 담긴 목적지 주소를 가지고 알맞는 라우터로 forwarding을 하며 목적지로 전달함. 

### Core Router에서 데이터 전달 방식
#### Cirtuit Switching(회선 교환)
- 데이터 전송 전에 source와 dest 간에 길을 설정하고 그 길에 네트웍 자원을 예약함.
- 미리 경로를 설정하고 네트웍 자원을 할당함 
- 자원이 한 쌍에만 할당되고 이 자원은 다른 라우터와 공유하지 않는다. 

- 각각의 콜에 자원이 할당됨. 
- 데이터 전송이 안되더라도 다른 커넥션이 사용할 수 없음. (자원 쉐어링 안됨)
- 특정 사용자가 콜을 설정한다면 둘만 베타적으로 할당됨. 
- 사용예) 유선전화망, 통화 중에 아무 말도 하지 않고 있어도 전화가 끊어지기 전까지 상태가 유지된다. 
- 주파수로 나누는 방법(FDM), 시간으로 나누는 방법(TDM)
- 두 사람이 통화한다면 독립적 자원이 할당되는데, 여기서 자원이란 주파수를 의미한다. 
#### Packet Switching(패킷교환)
- 여러개의 source들이 패킷으로 보낼 때, (전체 데이터를 보내지 않음, 각 패킷마다 목적지 주소가 나옴)
- 라우터가 패킷별로 개별적으로 전송함. 
- 전체 데이터는 패킷 단위로 나뉘어지고, 각각 패킷은 목적지 주소를 갖고 별도로 취급된다. 
- 패킷별로 별도의 채널이 나뉘지 않고, 패킷이 전력을 다해서 전달됨.
- 패킷 사이즈가 L이고 링크의 capacity가 R이라면 패킷전달 속도는 L/R이다.
- store-and-forward : 어떤 패킷이 라우터에 도달했다가 이 라우터가 주소를 보고 다음 hop으로 전달. 다만 온전한 패킷 하나가 다 도착해야 그 다음 패킷부터 받는다. 이렇게 하는 이유는 패킷마다 주소가 담기기 때문. 패킷을 보고 목적 주소를 판단해야 하기 때문이다. 
- End-end delay = 2L/R
	
#### 뭐가 더 나을까?
- 인터넷 서비스 제공자 입장에서는 패킷교환망이 더 좋다. 왜냐하면 서비스 이용자들이 언제나 active한 상태가 아니다. (쉬지않고 클릭하지 않음)
- 실제 데이터 전달 시간은 우리 이용시간에 비해서 적다. 이 상황에서 회선 교환망을 사용한다면 내가 몇명까지 수용할 수 있을까?
- 회선 교환망은 회선이 결정되면 내 회선이 결정되면 그 회선을 독점하기 때문에 회선 이용이 회선 수에 제한적이게 된다. 
- 그리고 회선 유지시간동안 일정 할당량이 계속해서 유지되기 때문에 할당량이 낭비된다. 
	
			
		
			
		
		